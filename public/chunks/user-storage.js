(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{EaBK:function(t,a,e){"use strict";var r={name:"BarChart",props:{data:{},color:{}}},s=e("KHd+"),o=Object(s.a)(r,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"flex items-end justify-between h-28"},t._l(t.data,(function(a,r){return e("span",{key:r,staticClass:"w-2.5 block rounded-lg lg:mr-2 mr-1.5",style:{height:a+"%",backgroundColor:t.color}})})),0)}),[],!1,null,null,null);a.a=o.exports},FPTY:function(t,a,e){(t.exports=e("I1BE")(!1)).push([t.i,".chart-progress.success[data-v-6007c2ad]{background:#0abb87;box-shadow:0 3px 10px rgba(10,187,135,.5)}.chart-progress.danger[data-v-6007c2ad]{background:#fd397a;box-shadow:0 3px 10px rgba(253,57,122,.5)}.chart-progress.warning[data-v-6007c2ad]{background:#ffb822;box-shadow:0 3px 10px rgba(255,184,34,.5)}.chart-progress.info[data-v-6007c2ad]{background:#5578eb;box-shadow:0 3px 10px rgba(85,120,235,.5)}.chart-progress.purple[data-v-6007c2ad]{background:#9d66fe;box-shadow:0 3px 10px rgba(157,102,254,.5)}.chart-progress.secondary[data-v-6007c2ad]{background:#e1e1ef;box-shadow:0 3px 10px rgba(225,225,239,.5)}.dark .chart-progress.secondary[data-v-6007c2ad]{background:#282a2f!important;box-shadow:0 3px 10px rgba(40,42,47,.5)!important}",""])},Nvvg:function(t,a,e){"use strict";e("gJIj")},ST7V:function(t,a,e){var r=e("FPTY");"string"==typeof r&&(r=[[t.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(r,s);r.locals&&(t.exports=r.locals)},UD3w:function(t,a,e){"use strict";var r={name:"AppInputText",props:["description","isLast","title","error"]},s=e("KHd+"),o=Object(s.a)(r,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{class:{"mb-7":!t.isLast}},[t.title?e("label",{staticClass:"text-sm font-bold dark:text-gray-400 text-gray-700 mb-1.5 block"},[t._v("\n\t\t"+t._s(t.title)+":\n\t")]):t._e(),t._v(" "),t._t("default"),t._v(" "),t.description?e("small",{staticClass:"text-xs text-gray-500 pt-2 leading-4 block",domProps:{innerHTML:t._s(t.description)}}):t._e(),t._v(" "),t.error?e("span",{staticClass:"text-red-700 pt-2 text-xs"},[t._v("\n\t\t"+t._s(t.error)+"\n\t")]):t._e()],2)}),[],!1,null,null,null);a.a=o.exports},WXiT:function(t,a,e){"use strict";e("ST7V")},gJIj:function(t,a,e){var r=e("lkHs");"string"==typeof r&&(r=[[t.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(r,s);r.locals&&(t.exports=r.locals)},h6vl:function(t,a,e){"use strict";var r={name:"DotLabel",props:["color","title"]},s=(e("Nvvg"),e("KHd+")),o={name:"ProgressLine",props:["data"],components:{DotLabel:Object(s.a)(r,(function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"label"},[a("span",{class:["label-dot",this.color]}),this._v(" "),a("b",{staticClass:"label-title"},[this._v("\n        "+this._s(this.title)+"\n    ")])])}),[],!1,null,"65eb31b6",null).exports}},n=(e("WXiT"),Object(s.a)(o,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"flex items-center mb-4 rounded dark:bg-2x-dark-foreground bg-light-300"},t._l(t.data,(function(a,r){return e("div",{key:r,staticClass:"chart-wrapper",style:{width:a.progress+"%"}},[1===t.data.length?e("span",{staticClass:"chart-progress w-full h-2.5 block",class:[{"border-r-2 dark:border-gray-800 border-white rounded-tl-lg rounded-bl-lg":a.progress<100,"border-none rounded-lg":a.progress>=100},a.color]}):t._e(),t._v(" "),t.data.length>1?e("span",{staticClass:"chart-progress w-full h-2.5 block",class:[{"rounded-tl-lg rounded-bl-lg border-r-2 dark:border-gray-800 border-white":0===r,"border-r-2 dark:border-gray-800 border-white":r<t.data.length-1,"rounded-tr-lg rounded-br-lg":r===t.data.length-1},a.color]}):t._e()])})),0),t._v(" "),e("footer",{staticClass:"flex items-center"},t._l(t.data,(function(t,a){return e("DotLabel",{key:a,staticClass:"mr-5",attrs:{color:t.color,title:t.title}})})),1)])}),[],!1,null,"6007c2ad",null));a.a=n.exports},lkHs:function(t,a,e){(t.exports=e("I1BE")(!1)).push([t.i,".label[data-v-65eb31b6]{display:flex;align-items:center}.label .label-dot[data-v-65eb31b6]{margin-right:10px;width:8px;height:8px;display:block;border-radius:8px;flex:none}.label .label-dot.success[data-v-65eb31b6]{background:#0abb87}.label .label-dot.danger[data-v-65eb31b6]{background:#fd397a}.label .label-dot.warning[data-v-65eb31b6]{background:#ffb822}.label .label-dot.info[data-v-65eb31b6]{background:#5578eb}.label .label-dot.primary[data-v-65eb31b6]{background:red}.label .label-dot.purple[data-v-65eb31b6]{background:#9d66fe}.label .label-dot.secondary[data-v-65eb31b6]{background:#e1e1ef}.label .label-title[data-v-65eb31b6]{font-size:16px;font-weight:700}",""])},qOAa:function(t,a,e){"use strict";e.r(a);var r=e("o0o1"),s=e.n(r),o=e("h6vl"),n=e("UD3w"),i=e("eZ9V"),l=e("KnjL"),c=e("gahf"),d=e("qefO"),b=e("A5+z"),u=e("Nv84"),p=e("13Td"),g=e("TJPC"),v=e("EaBK"),f=e("xCqy"),_=e("L2JU"),m=e("vDqi"),h=e.n(m);function x(t,a,e,r,s,o,n){try{var i=t[o](n),l=i.value}catch(t){return void e(t)}i.done?a(l):Promise.resolve(l).then(r,s)}function y(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,r)}return e}function k(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var w={name:"UserStorage",props:["user"],components:{ProgressLine:o.a,AppInputText:n.a,PageTabGroup:c.a,FormLabel:i.a,PageTab:d.a,InfoBox:l.a,ValidationProvider:b.ValidationProvider,ValidationObserver:b.ValidationObserver,ButtonBase:u.a,SetupBox:p.a,required:g.a,BarChart:v.a},computed:function(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?y(Object(e),!0).forEach((function(a){k(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):y(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}({},Object(_.b)(["config"])),data:function(){return{isLoading:!0,isSendingRequest:!1,capacity:void 0,storage:void 0,distribution:void 0}},methods:{changeStorageCapacity:function(){var t,a=this;return(t=s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.$refs.changeStorageCapacity.validate();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:a.isSendingRequest=!0,h.a.post(a.$store.getters.api+"/admin/users/"+a.$route.params.id+"/capacity",{attributes:{max_storage_amount:a.capacity},_method:"patch"}).then((function(){a.$refs.changeStorageCapacity.reset(),a.isSendingRequest=!1,a.getStorageDetails(),f.a.$emit("toaster",{type:"success",message:a.$t("toaster.changed_capacity")})})).catch((function(t){a.isSendingRequest=!1,422==t.response.status?t.response.data.errors["attributes.max_storage_amount"]&&a.$refs.changeStorageCapacity.setErrors({Capacity:a.$t("errors.capacity_digit")}):f.a.$emit("alert:open",{title:a.$t("popup_error.title"),message:a.$t("popup_error.message")})}));case 7:case"end":return t.stop()}}),t)})),function(){var a=this,e=arguments;return new Promise((function(r,s){var o=t.apply(a,e);function n(t){x(o,r,s,n,i,"next",t)}function i(t){x(o,r,s,n,i,"throw",t)}n(void 0)}))})()},getStorageDetails:function(){var t=this;h.a.get("/api/admin/users/"+this.$route.params.id+"/storage").then((function(a){t.distribution=t.$mapStorageUsage(a.data),t.storage=a.data,t.isLoading=!1}))}},created:function(){this.getStorageDetails()}},C=e("KHd+"),$=Object(C.a)(w,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.storage?e("PageTab",{attrs:{"is-loading":t.isLoading}},[t.distribution?e("div",{staticClass:"card shadow-card"},[e("FormLabel",{attrs:{icon:"hard-drive"}},[t._v("\n                "+t._s(t.$t("Storage Usage"))+"\n            ")]),t._v(" "),e("b",{staticClass:"text-3xl font-extrabold -mt-3 block mb-0.5"},[t._v("\n\t\t\t\t"+t._s(t.storage.data.attributes.used)+"\n\t\t\t")]),t._v(" "),e("b",{staticClass:"mb-3 block text-sm text-gray-400 mb-5"},[t._v("\n\t\t\t\t"+t._s(t.$t("Total of"))+" "+t._s(t.storage.data.attributes.capacity)+" "+t._s(t.$t("Used"))+"\n\t\t\t")]),t._v(" "),e("ProgressLine",{attrs:{data:t.distribution}})],1):t._e(),t._v(" "),t.distribution?e("div",{staticClass:"card shadow-card"},[e("FormLabel",{attrs:{icon:"hard-drive"}},[t._v("\n                "+t._s(t.$t("Upload"))+"\n            ")]),t._v(" "),e("b",{staticClass:"text-3xl font-extrabold -mt-3 block mb-0.5"},[t._v("\n\t\t\t\t"+t._s(t.storage.data.meta.traffic.upload)+"\n\t\t\t")]),t._v(" "),e("b",{staticClass:"mb-3 block text-sm text-gray-400 mb-5"},[t._v("\n\t\t\t\t"+t._s(t.$t("In last 45 days"))+"\n\t\t\t")]),t._v(" "),e("BarChart",{attrs:{data:t.storage.data.meta.traffic.chart.upload,color:"#FFBD2D"}})],1):t._e(),t._v(" "),t.distribution?e("div",{staticClass:"card shadow-card"},[e("FormLabel",{attrs:{icon:"hard-drive"}},[t._v("\n                "+t._s(t.$t("Download"))+"\n            ")]),t._v(" "),e("b",{staticClass:"text-3xl font-extrabold -mt-3 block mb-0.5"},[t._v("\n\t\t\t\t"+t._s(t.storage.data.meta.traffic.download)+"\n\t\t\t")]),t._v(" "),e("b",{staticClass:"mb-3 block text-sm text-gray-400 mb-5"},[t._v("\n\t\t\t\t"+t._s(t.$t("In last 45 days"))+"\n\t\t\t")]),t._v(" "),e("BarChart",{attrs:{data:t.storage.data.meta.traffic.chart.download,color:"#9d66fe"}})],1):t._e(),t._v(" "),t.config.storageLimit&&!t.user.data.attributes.subscription?e("div",{staticClass:"card shadow-card"},[e("FormLabel",[t._v("\n                "+t._s(t.$t("user_box_storage.title"))+"\n            ")]),t._v(" "),e("InfoBox",[e("p",[t._v(t._s(t.$t("user_box_storage.description")))])]),t._v(" "),e("ValidationObserver",{ref:"changeStorageCapacity",attrs:{tag:"form"},on:{submit:function(a){return a.preventDefault(),t.changeStorageCapacity(a)}},scopedSlots:t._u([{key:"default",fn:function(a){a.invalid;return[e("ValidationProvider",{attrs:{tag:"div",mode:"passive",name:"Capacity",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.errors;return[e("AppInputText",{attrs:{title:t.$t("admin_page_user.label_change_capacity"),error:r[0],"is-last":!0}},[e("div",{staticClass:"flex space-x-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.capacity,expression:"capacity"}],staticClass:"focus-border-theme input-dark",class:{"is-error":r[0]},attrs:{placeholder:t.$t("admin_page_user.label_change_capacity"),type:"number",min:"1",max:"999999999"},domProps:{value:t.capacity},on:{input:function(a){a.target.composing||(t.capacity=a.target.value)}}}),t._v(" "),e("ButtonBase",{staticClass:"submit-button",attrs:{loading:t.isSendingRequest,disabled:t.isSendingRequest,type:"submit","button-style":"theme"}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.$t("admin_page_user.change_capacity"))+"\n\t\t\t\t\t\t\t")])],1)])]}}],null,!0)})]}}],null,!1,286719146)})],1):t._e()]):t._e()}),[],!1,null,null,null);a.default=$.exports}}]);