(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{MvT8:function(t,e,n){"use strict";n.r(e);var o=n("YQUA"),i=n("XdRL"),r=n("gQwf"),a=n("RXD1"),c=n("G7DB"),l=n("t5U/"),s=n("Hi0u"),u=n("xcnA"),d=n("bpVB"),m=n("0gRs"),p=n("dH5z"),v=n("c4kp"),_=n("2QtR"),f=n("axtU"),O=n("Nv84"),$=n("uFbu"),h=n("L2JU"),F=n("xCqy");function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){k(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g={name:"TeamFolders",components:{MobileActionButtonUpload:a.a,MobileMultiSelectToolbar:c.a,MobileTeamContextMenu:o.a,MobileActionButton:l.a,MobileContextMenu:s.a,MobileCreateMenu:u.a,ToolbarButton:m.a,ButtonUpload:d.a,OptionUpload:p.a,OptionGroup:f.a,FileBrowser:v.a,ContextMenu:_.a,ButtonBase:O.a,Option:$.a,FileActionsMobile:r.a,EmptyFilePage:i.a},computed:T(T({},Object(h.b)(["currentTeamFolder","clipboard","config","user"])),{},{teamFolder:function(){return this.currentTeamFolder?this.currentTeamFolder:this.clipboard[0]},isTeamFolderHomepage:function(){return this.$isThisRoute(this.$route,["TeamFolders"])&&!this.$route.params.id},isFolder:function(){return this.item&&"folder"===this.item.data.type},isInFavourites:function(){var t=this;return this.favourites.find((function(e){return e.id===t.item.id}))},hasFile:function(){return this.clipboard.find((function(t){return"folder"!==t.type}))},favourites:function(){return this.user.data.relationships.favourites.data}}),data:function(){return{item:void 0}},methods:{addToFavourites:function(){var t=this;this.favourites&&!this.favourites.find((function(e){return e.id===t.item.data.id}))?(this.clipboard.includes(this.item)||this.$store.dispatch("addToFavourites",this.item),this.clipboard.includes(this.item)&&this.$store.dispatch("addToFavourites",null)):this.$store.dispatch("removeFromFavourites",this.item)},createFolder:function(){F.a.$emit("popup:open",{name:"create-folder"})}},mounted:function(){var t=this;this.$store.dispatch("getTeamFolder",this.$route.params.id),F.a.$on("context-menu:show",(function(e,n){return t.item=n})),F.a.$on("mobile-context-menu:show",(function(e){return t.item=e})),F.a.$on("context-menu:current-folder",(function(e){return t.item=e})),F.a.$on("action:confirmed",(function(e){"dissolve-team-folder"===e.operation&&axios.delete("/api/teams/folders/".concat(e.id)).then((function(){t.$route.params.id?t.$router.push({name:"TeamFolders"}):t.$store.commit("REMOVE_ITEM",e.id),F.a.$emit("toaster",{type:"success",message:t.$t("Your Team Folder was moved into your files.")})})).catch((function(){return t.$isSomethingWrong()}))}))},beforeDestroy:function(){F.a.$off("action:confirmed")}},x=n("KHd+"),M=Object(x.a)(g,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("MobileContextMenu",[t.item&&t.isFolder?n("OptionGroup",[n("Option",{attrs:{title:t.isInFavourites?t.$t("context_menu.remove_from_favourites"):t.$t("context_menu.add_to_favourites"),icon:"favourites"},nativeOn:{click:function(e){return t.addToFavourites(e)}}})],1):t._e(),t._v(" "),t.item?n("OptionGroup",[n("Option",{attrs:{title:t.$t("context_menu.rename"),icon:"rename"},nativeOn:{click:function(e){return t.$renameFileOrFolder(t.item)}}}),t._v(" "),n("Option",{attrs:{title:t.$t("context_menu.move"),icon:"move-item"},nativeOn:{click:function(e){return t.$moveFileOrFolder(t.item)}}}),t._v(" "),n("Option",{attrs:{title:t.$t("context_menu.delete"),icon:"trash"},nativeOn:{click:function(e){return t.$deleteFileOrFolder(t.item)}}})],1):t._e(),t._v(" "),t.item?n("OptionGroup",[n("Option",{attrs:{title:t.item.data.relationships.shared?t.$t("context_menu.share_edit"):t.$t("context_menu.share"),icon:"share"},nativeOn:{click:function(e){return t.$shareFileOrFolder(t.item)}}}),t._v(" "),t.isFolder?n("Option",{attrs:{title:t.$t("Convert as Team Folder"),icon:"users"},nativeOn:{click:function(e){return t.$updateTeamFolder(t.item)}}}):t._e()],1):t._e(),t._v(" "),t.item?n("OptionGroup",[n("Option",{attrs:{title:t.$t("context_menu.download"),icon:"download"},nativeOn:{click:function(e){return t.$downloadSelection(t.item)}}})],1):t._e()],1),t._v(" "),n("MobileCreateMenu",[n("OptionGroup",[n("OptionUpload",{attrs:{title:t.$t("actions.upload"),"is-hover-disabled":"true"}})],1),t._v(" "),n("OptionGroup",[n("Option",{attrs:{title:t.$t("Create Team Folder"),icon:"users","is-hover-disabled":"true"},nativeOn:{click:function(e){return e.stopPropagation(),t.$createTeamFolder(e)}}}),t._v(" "),n("Option",{attrs:{title:t.$t("actions.create_folder"),icon:"folder-plus","is-hover-disabled":"true"},nativeOn:{click:function(e){return e.stopPropagation(),t.createFolder(e)}}})],1)],1),t._v(" "),n("MobileTeamContextMenu",[n("OptionGroup",[n("Option",{attrs:{title:t.$t("Edit Members"),icon:"rename"},nativeOn:{click:function(e){return t.$updateTeamFolder(t.teamFolder)}}}),t._v(" "),n("Option",{attrs:{title:t.$t("Dissolve Team"),icon:"trash"},nativeOn:{click:function(e){return t.$dissolveTeamFolder(t.teamFolder)}}})],1)],1),t._v(" "),n("MobileMultiSelectToolbar",[n("ToolbarButton",{staticClass:"action-btn",class:{"is-inactive":t.clipboard.length<1},attrs:{source:"move",action:t.$t("actions.move")},nativeOn:{click:function(e){return t.$moveFileOrFolder(t.clipboard)}}}),t._v(" "),n("ToolbarButton",{staticClass:"action-btn",class:{"is-inactive":t.clipboard.length<1},attrs:{source:"trash",action:t.$t("actions.delete")},nativeOn:{click:function(e){return t.$deleteFileOrFolder(t.clipboard)}}}),t._v(" "),n("ToolbarButton",{staticClass:"action-btn",attrs:{source:"download",action:t.$t("actions.download")},nativeOn:{click:function(e){return t.$downloadSelection(t.item)}}})],1),t._v(" "),n("ContextMenu",{scopedSlots:t._u([{key:"empty-select",fn:function(){return[t.isTeamFolderHomepage?t._e():n("OptionGroup",[n("OptionUpload",{attrs:{title:t.$t("actions.upload")}}),t._v(" "),n("Option",{attrs:{title:t.$t("actions.create_folder"),icon:"folder-plus"},nativeOn:{click:function(e){return e.stopPropagation(),t.$createFolder(e)}}})],1),t._v(" "),t.isTeamFolderHomepage?n("OptionGroup",[n("Option",{attrs:{title:t.$t("Create Team Folder"),icon:"users"},nativeOn:{click:function(e){return t.$createTeamFolder(e)}}})],1):t._e()]},proxy:!0},t.item?{key:"single-select",fn:function(){return[t.isFolder?n("OptionGroup",[n("Option",{attrs:{title:t.isInFavourites?t.$t("context_menu.remove_from_favourites"):t.$t("context_menu.add_to_favourites"),icon:"favourites"},nativeOn:{click:function(e){return t.addToFavourites(e)}}})],1):t._e(),t._v(" "),n("OptionGroup",[n("Option",{attrs:{title:t.$t("context_menu.rename"),icon:"rename"},nativeOn:{click:function(e){return t.$renameFileOrFolder(t.item)}}}),t._v(" "),n("Option",{attrs:{title:t.$t("context_menu.move"),icon:"move-item"},nativeOn:{click:function(e){return t.$moveFileOrFolder(t.item)}}}),t._v(" "),n("Option",{attrs:{title:t.$t("context_menu.delete"),icon:"trash"},nativeOn:{click:function(e){return t.$deleteFileOrFolder(t.item)}}})],1),t._v(" "),n("OptionGroup",[n("Option",{attrs:{title:t.item.data.relationships.shared?t.$t("context_menu.share_edit"):t.$t("context_menu.share"),icon:"share"},nativeOn:{click:function(e){return t.$shareFileOrFolder(t.item)}}}),t._v(" "),t.isFolder?n("Option",{attrs:{title:t.$t("Edit Team Members"),icon:"users"},nativeOn:{click:function(e){return t.$updateTeamFolder(t.item)}}}):t._e()],1),t._v(" "),n("OptionGroup",[n("Option",{attrs:{title:t.$t("context_menu.detail"),icon:"detail"},nativeOn:{click:function(e){return t.$openInDetailPanel(t.item)}}}),t._v(" "),n("Option",{attrs:{title:t.$t("context_menu.download"),icon:"download"},nativeOn:{click:function(e){return t.$downloadSelection(t.item)}}})],1)]},proxy:!0}:null,t.item?{key:"multiple-select",fn:function(){return[t.hasFile?t._e():n("OptionGroup",[n("Option",{attrs:{title:t.isInFavourites?t.$t("context_menu.remove_from_favourites"):t.$t("context_menu.add_to_favourites"),icon:"favourites"},nativeOn:{click:function(e){return t.addToFavourites(e)}}})],1),t._v(" "),n("OptionGroup",[n("Option",{attrs:{title:t.$t("context_menu.move"),icon:"move-item"},nativeOn:{click:function(e){return t.$moveFileOrFolder(t.item)}}}),t._v(" "),n("Option",{attrs:{title:t.$t("context_menu.delete"),icon:"trash"},nativeOn:{click:function(e){return t.$deleteFileOrFolder(t.item)}}})],1),t._v(" "),n("OptionGroup",[n("Option",{attrs:{title:t.$t("context_menu.download"),icon:"download"},nativeOn:{click:function(e){return t.$downloadSelection(t.item)}}})],1)]},proxy:!0}:null],null,!0)}),t._v(" "),n("FileActionsMobile",[n("MobileActionButton",{attrs:{icon:"search"},nativeOn:{click:function(e){return t.$openSpotlight(e)}}},[t._v("\n\t\t\t\t"+t._s(t.$t("Spotlight"))+"\n\t\t\t")]),t._v(" "),n("MobileActionButton",{attrs:{icon:t.$getCurrentSectionIcon()},nativeOn:{click:function(e){return t.$showMobileMenu("file-filter")}}},[t._v("\n\t\t\t\t"+t._s(t.$getCurrentSectionName())+"\n\t\t\t")]),t._v(" "),t.$checkPermission(["master","editor"])?n("MobileActionButton",{attrs:{icon:"cloud-plus"},nativeOn:{click:function(e){return t.$showMobileMenu("create-list")}}},[t._v("\n\t\t\t\t"+t._s(t.$t("mobile.create"))+"\n\t\t\t")]):t._e(),t._v(" "),n("MobileActionButton",{attrs:{icon:"check-square"},nativeOn:{click:function(e){return t.$enableMultiSelectMode(e)}}},[t._v("\n\t\t\t\t"+t._s(t.$t("context_menu.select"))+"\n\t\t\t")]),t._v(" "),n("MobileActionButton",{attrs:{icon:"preview-sorting"},nativeOn:{click:function(e){return t.$showMobileMenu("file-sorting")}}},[t._v("\n\t\t\t\t"+t._s(t.$t("preview_sorting.preview_sorting_button"))+"\n\t\t\t")])],1),t._v(" "),n("EmptyFilePage",[t.isTeamFolderHomepage?[n("h1",{staticClass:"title"},[t._v("\n\t\t\t\t\t"+t._s(t.$t("Create your Team Folder"))+"\n\t\t\t\t")]),t._v(" "),n("p",{staticClass:"description"},[t._v("\n\t\t\t\t\t"+t._s(t.$t("Collaborate on your files with your team easily by creating new team folder."))+"\n\t\t\t\t")]),t._v(" "),n("ButtonBase",{staticClass:"m-center",attrs:{"button-style":"theme"},nativeOn:{click:function(e){return t.$createTeamFolder(e)}}},[t._v("\n\t\t\t\t\t"+t._s(t.$t("Create Team Folder"))+"\n\t\t\t\t")])]:t._e(),t._v(" "),t.isTeamFolderHomepage?t._e():[n("h1",{staticClass:"title"},[t._v("\n\t\t\t\t\t"+t._s(t.$t("empty_page.title"))+"\n\t\t\t\t")]),t._v(" "),n("p",{staticClass:"description"},[t._v("\n\t\t\t\t\t"+t._s(t.$t("empty_page.description"))+"\n\t\t\t\t")]),t._v(" "),n("ButtonUpload",{attrs:{"button-style":"theme"}},[t._v("\n\t\t\t\t\t"+t._s(t.$t("empty_page.call_to_action"))+"\n\t\t\t\t")])]],2),t._v(" "),n("FileBrowser")],1)}),[],!1,null,null,null);e.default=M.exports}}]);