(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{"0RFd":function(t,e,n){var i=n("f3j1");"string"==typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,o);i.locals&&(t.exports=i.locals)},"3QIs":function(t,e,n){"use strict";n("0RFd")},HWxI:function(t,e,n){"use strict";n("NVq4")},MvT8:function(t,e,n){"use strict";n.r(e);var i=n("RXD1"),o=n("G7DB"),a=n("t5U/"),r=n("Hi0u"),l=n("xcnA"),s=n("bpVB"),c=n("0gRs"),u=n("dH5z"),d=n("c4kp"),p=n("2QtR"),m=n("axtU"),f=n("uFbu"),v=n("L2JU"),b=n("xCqy");n("AbbK");function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $={name:"TeamFolders",components:{MobileActionButtonUpload:i.a,MobileMultiSelectToolbar:o.a,MobileActionButton:a.a,MobileContextMenu:r.a,MobileCreateMenu:l.a,ToolbarButton:c.a,ButtonUpload:s.a,OptionUpload:u.a,OptionGroup:m.a,FileBrowser:d.a,ContextMenu:p.a,Option:f.a},computed:_(_({},Object(v.b)(["clipboard","config","user"])),{},{isTeamFolderHomepage:function(){return this.$isThisRoute(this.$route,["TeamFolders"])&&!this.$route.params.id},isFolder:function(){return this.item&&"folder"===this.item.data.type},isInFavourites:function(){var t=this;return this.favourites.find((function(e){return e.id===t.item.id}))},hasFile:function(){return this.clipboard.find((function(t){return"folder"!==t.type}))},favourites:function(){return this.user.data.relationships.favourites.data},filterLocationTitle:function(){return{RecentUploads:this.$t("Recent"),MySharedItems:this.$t("Shared"),Trash:this.$t("Trash"),Public:this.$t("Files"),Files:this.$t("Files")}[this.$route.name]}}),data:function(){return{item:void 0}},methods:{addToFavourites:function(){var t=this;this.favourites&&!this.favourites.find((function(e){return e.id===t.item.data.id}))?(this.clipboard.includes(this.item)||this.$store.dispatch("addToFavourites",this.item),this.clipboard.includes(this.item)&&this.$store.dispatch("addToFavourites",null)):this.$store.dispatch("removeFromFavourites",this.item)},createFolder:function(){b.a.$emit("popup:open",{name:"create-folder"})}},created:function(){var t=this;this.$store.dispatch("getTeamFolder",this.$route.params.id),b.a.$on("context-menu:show",(function(e,n){return t.item=n})),b.a.$on("mobile-context-menu:show",(function(e){return t.item=e})),b.a.$on("context-menu:current-folder",(function(e){return t.item=e})),b.a.$on("action:confirmed",(function(e){"dissolve-team-folder"===e.operation&&axios.delete("/api/teams/folders/".concat(e.id)).then((function(){t.$route.params.id?t.$router.push({name:"TeamFolders"}):t.$store.commit("REMOVE_ITEM",e.id)})).catch((function(){return t.$isSomethingWrong()}))}))}},x=n("KHd+"),F=Object(x.a)($,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("MobileContextMenu",[t.item&&t.isFolder?n("OptionGroup",[n("Option",{attrs:{title:t.isInFavourites?t.$t("context_menu.remove_from_favourites"):t.$t("context_menu.add_to_favourites"),icon:"favourites"},nativeOn:{click:function(e){return t.addToFavourites(e)}}})],1):t._e(),t._v(" "),t.item?n("OptionGroup",[n("Option",{attrs:{title:t.$t("context_menu.rename"),icon:"rename"},nativeOn:{click:function(e){return t.$renameFileOrFolder(t.item)}}}),t._v(" "),n("Option",{attrs:{title:t.$t("context_menu.move"),icon:"move-item"},nativeOn:{click:function(e){return t.$moveFileOrFolder(t.item)}}}),t._v(" "),n("Option",{attrs:{title:t.$t("context_menu.delete"),icon:"trash"},nativeOn:{click:function(e){return t.$deleteFileOrFolder(t.item)}}})],1):t._e(),t._v(" "),t.item?n("OptionGroup",[n("Option",{attrs:{title:t.item.data.relationships.shared?t.$t("context_menu.share_edit"):t.$t("context_menu.share"),icon:"share"},nativeOn:{click:function(e){return t.$shareFileOrFolder(t.item)}}}),t._v(" "),t.isFolder?n("Option",{attrs:{title:t.$t("Convert as Team Folder"),icon:"users"},nativeOn:{click:function(e){return t.$updateTeamFolder(t.item)}}}):t._e()],1):t._e(),t._v(" "),t.item?n("OptionGroup",[n("Option",{attrs:{title:t.$t("context_menu.download"),icon:"download"},nativeOn:{click:function(e){return t.$downloadSelection(t.item)}}})],1):t._e()],1),t._v(" "),n("MobileCreateMenu",[n("OptionGroup",[n("OptionUpload",{attrs:{title:t.$t("actions.upload"),"is-hover-disabled":"true"}})],1),t._v(" "),n("OptionGroup",[n("Option",{attrs:{title:t.$t("Create Team Folder"),icon:"users","is-hover-disabled":"true"},nativeOn:{click:function(e){return e.stopPropagation(),t.$createTeamFolder(e)}}}),t._v(" "),n("Option",{attrs:{title:t.$t("actions.create_folder"),icon:"folder-plus","is-hover-disabled":"true"},nativeOn:{click:function(e){return e.stopPropagation(),t.createFolder(e)}}})],1)],1),t._v(" "),n("MobileMultiSelectToolbar",[n("ToolbarButton",{staticClass:"action-btn",class:{"is-inactive":t.clipboard.length<1},attrs:{source:"move",action:t.$t("actions.move")},nativeOn:{click:function(e){return t.$moveFileOrFolder(t.clipboard)}}}),t._v(" "),n("ToolbarButton",{staticClass:"action-btn",class:{"is-inactive":t.clipboard.length<1},attrs:{source:"trash",action:t.$t("actions.delete")},nativeOn:{click:function(e){return t.$deleteFileOrFolder(t.clipboard)}}}),t._v(" "),n("ToolbarButton",{staticClass:"action-btn",attrs:{source:"download",action:t.$t("actions.download")},nativeOn:{click:function(e){return t.$downloadSelection(t.item)}}})],1),t._v(" "),n("ContextMenu",{scopedSlots:t._u([{key:"empty-select",fn:function(){return[t.isTeamFolderHomepage?t._e():n("OptionGroup",[n("OptionUpload",{attrs:{title:t.$t("actions.upload")}}),t._v(" "),n("Option",{attrs:{title:t.$t("actions.create_folder"),icon:"folder-plus"},nativeOn:{click:function(e){return e.stopPropagation(),t.$createFolder(e)}}})],1),t._v(" "),t.isTeamFolderHomepage?n("OptionGroup",[n("Option",{attrs:{title:t.$t("Create Team Folder"),icon:"users"},nativeOn:{click:function(e){return t.$createTeamFolder(e)}}})],1):t._e()]},proxy:!0},t.item?{key:"single-select",fn:function(){return[t.isFolder?n("OptionGroup",[n("Option",{attrs:{title:t.isInFavourites?t.$t("context_menu.remove_from_favourites"):t.$t("context_menu.add_to_favourites"),icon:"favourites"},nativeOn:{click:function(e){return t.addToFavourites(e)}}})],1):t._e(),t._v(" "),n("OptionGroup",[n("Option",{attrs:{title:t.$t("context_menu.rename"),icon:"rename"},nativeOn:{click:function(e){return t.$renameFileOrFolder(t.item)}}}),t._v(" "),n("Option",{attrs:{title:t.$t("context_menu.move"),icon:"move-item"},nativeOn:{click:function(e){return t.$moveFileOrFolder(t.item)}}}),t._v(" "),n("Option",{attrs:{title:t.$t("context_menu.delete"),icon:"trash"},nativeOn:{click:function(e){return t.$deleteFileOrFolder(t.item)}}})],1),t._v(" "),n("OptionGroup",[n("Option",{attrs:{title:t.item.data.relationships.shared?t.$t("context_menu.share_edit"):t.$t("context_menu.share"),icon:"share"},nativeOn:{click:function(e){return t.$shareFileOrFolder(t.item)}}}),t._v(" "),t.isFolder?n("Option",{attrs:{title:t.$t("Edit Team Members"),icon:"users"},nativeOn:{click:function(e){return t.$updateTeamFolder(t.item)}}}):t._e()],1),t._v(" "),n("OptionGroup",[n("Option",{attrs:{title:t.$t("context_menu.detail"),icon:"detail"},nativeOn:{click:function(e){return t.$openInDetailPanel(t.item)}}}),t._v(" "),n("Option",{attrs:{title:t.$t("context_menu.download"),icon:"download"},nativeOn:{click:function(e){return t.$downloadSelection(t.item)}}})],1)]},proxy:!0}:null,t.item?{key:"multiple-select",fn:function(){return[t.hasFile?t._e():n("OptionGroup",[n("Option",{attrs:{title:t.isInFavourites?t.$t("context_menu.remove_from_favourites"):t.$t("context_menu.add_to_favourites"),icon:"favourites"},nativeOn:{click:function(e){return t.addToFavourites(e)}}})],1),t._v(" "),n("OptionGroup",[n("Option",{attrs:{title:t.$t("context_menu.move"),icon:"move-item"},nativeOn:{click:function(e){return t.$moveFileOrFolder(t.item)}}}),t._v(" "),n("Option",{attrs:{title:t.$t("context_menu.delete"),icon:"trash"},nativeOn:{click:function(e){return t.$deleteFileOrFolder(t.item)}}})],1),t._v(" "),n("OptionGroup",[n("Option",{attrs:{title:t.$t("context_menu.download"),icon:"download"},nativeOn:{click:function(e){return t.$downloadSelection(t.item)}}})],1)]},proxy:!0}:null],null,!0)}),t._v(" "),n("FileBrowser",{scopedSlots:t._u([{key:"file-actions-mobile",fn:function(){return[n("MobileActionButton",{attrs:{icon:"search"},nativeOn:{click:function(e){return t.$openSpotlight(e)}}},[t._v("\n\t\t\t\t\t"+t._s(t.$t("actions.search"))+"\n\t\t\t\t")]),t._v(" "),n("MobileActionButton",{attrs:{icon:"filter"},nativeOn:{click:function(e){return t.$showLocations(e)}}},[t._v("\n\t\t\t\t\t"+t._s(t.filterLocationTitle)+"\n\t\t\t\t")]),t._v(" "),t.$checkPermission(["master","editor"])?n("MobileActionButton",{attrs:{icon:"cloud-plus"},nativeOn:{click:function(e){return t.$createItems(e)}}},[t._v("\n\t\t\t\t\t"+t._s(t.$t("mobile.create"))+"\n\t\t\t\t")]):t._e(),t._v(" "),n("MobileActionButton",{attrs:{icon:"check-square"},nativeOn:{click:function(e){return t.$enableMultiSelectMode(e)}}},[t._v("\n\t\t\t\t\t"+t._s(t.$t("context_menu.select"))+"\n\t\t\t\t")]),t._v(" "),n("MobileActionButton",{attrs:{icon:"preview-sorting"},nativeOn:{click:function(e){return t.$showViewOptions(e)}}},[t._v("\n\t\t\t\t\t"+t._s(t.$t("preview_sorting.preview_sorting_button"))+"\n\t\t\t\t")])]},proxy:!0},{key:"empty-file-page",fn:function(){return[n("h1",{staticClass:"title"},[t._v("\n\t\t\t\t\t"+t._s(t.$t("empty_page.title"))+"\n\t\t\t\t")]),t._v(" "),n("p",{staticClass:"description"},[t._v("\n\t\t\t\t\t"+t._s(t.$t("empty_page.description"))+"\n\t\t\t\t")]),t._v(" "),n("ButtonUpload",{attrs:{"button-style":"theme"}},[t._v("\n                    "+t._s(t.$t("empty_page.call_to_action"))+"\n                ")])]},proxy:!0}])})],1)}),[],!1,null,null,null);e.default=F.exports},NVq4:function(t,e,n){var i=n("mXTd");"string"==typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,o);i.locals&&(t.exports=i.locals)},Pp7K:function(t,e,n){"use strict";n("ZrEW")},RXD1:function(t,e,n){"use strict";var i={name:"MobileActionButtonUpload",components:{UploadCloudIcon:n("CjXH").lb},methods:{emmitFiles:function(t){this.$uploadFiles(t.target.files)}}},o=(n("Pp7K"),n("KHd+")),a=Object(o.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"mobile-action-button"},[e("div",{staticClass:"flex"},[e("upload-cloud-icon",{staticClass:"icon dark-text-theme",attrs:{size:"15"}}),this._v(" "),e("label",{staticClass:"label button file-input button-base",attrs:{label:"file"}},[this._t("default"),this._v(" "),e("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"file",type:"file",name:"files[]",multiple:""},on:{change:this.emmitFiles}})],2)],1)])}),[],!1,null,"5f4cb0b8",null);e.a=a.exports},ZrEW:function(t,e,n){var i=n("naYb");"string"==typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,o);i.locals&&(t.exports=i.locals)},bpVB:function(t,e,n){"use strict";var i={name:"ButtonBase",props:["buttonStyle"],data:function(){return{files:void 0}},methods:{emmitFiles:function(t){this.$uploadFiles(t.target.files)}}},o=(n("3QIs"),n("KHd+")),a=Object(o.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"button file-input button-base",class:this.buttonStyle,attrs:{label:"file"}},[this._t("default"),this._v(" "),e("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{accept:"*",id:"file",type:"file",name:"files[]",multiple:""},on:{change:this.emmitFiles}})],2)}),[],!1,null,"473134a0",null);e.a=a.exports},dH5z:function(t,e,n){"use strict";var i=n("xCqy"),o={name:"Option",props:["title"],components:{UploadCloudIcon:n("CjXH").lb},methods:{emmitFiles:function(t){this.$uploadFiles(t.target.files),i.a.$emit("popover:close","desktop-create")}}},a=(n("HWxI"),n("KHd+")),r=Object(a.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"menu-option group",attrs:{for:"file"}},[e("div",{staticClass:"icon-left group-hover-text-theme"},[e("upload-cloud-icon",{staticClass:"group-hover-text-theme",attrs:{size:"17"}})],1),this._v(" "),e("div",{staticClass:"text-label group-hover-text-theme"},[this._v("\n            "+this._s(this.title)+"\n\t\t\t"),e("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"file",type:"file",name:"files[]",multiple:""},on:{change:this.emmitFiles}})])])}),[],!1,null,"56982a6d",null);e.a=r.exports},f3j1:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".button-base[data-v-473134a0]{font-size:.9375em;font-weight:700;cursor:pointer;transition:all .15s ease;border-radius:8px;border:0;padding:10px 28px;display:inline-block}.button-base[data-v-473134a0]:active{transform:scale(.95)}.button-base.secondary[data-v-473134a0]{color:#1b2539;background:#f4f5f6}",""])},mXTd:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".menu-option[data-v-56982a6d]{white-space:nowrap;font-weight:700;font-size:.875em;padding:15px 20px;cursor:pointer;width:100%;color:#1b2539;display:flex;align-items:center}.menu-option .icon-left[data-v-56982a6d]{margin-right:20px;line-height:0}.menu-option .icon-left circle[data-v-56982a6d],.menu-option .icon-left line[data-v-56982a6d],.menu-option .icon-left path[data-v-56982a6d],.menu-option .icon-left polygon[data-v-56982a6d],.menu-option .icon-left polyline[data-v-56982a6d],.menu-option .icon-left rect[data-v-56982a6d]{color:inherit}.menu-option .text-label[data-v-56982a6d]{font-size:1em}.dark-mode .menu-option[data-v-56982a6d]{color:#bec6cf}",""])},naYb:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".mobile-action-button[data-v-5f4cb0b8]{background:#f4f5f6;margin-right:8px;border-radius:8px;padding:7px 14px;cursor:pointer;border:none}.mobile-action-button .flex[data-v-5f4cb0b8]{display:flex;align-items:center}.mobile-action-button .icon[data-v-5f4cb0b8]{vertical-align:middle;margin-right:10px;font-size:.875em}.mobile-action-button .label[data-v-5f4cb0b8]{vertical-align:middle;font-size:.875em;font-weight:700;color:#1b2539}.dark-mode .mobile-action-button[data-v-5f4cb0b8]{background:#1e2024}.dark-mode .mobile-action-button circle[data-v-5f4cb0b8],.dark-mode .mobile-action-button line[data-v-5f4cb0b8],.dark-mode .mobile-action-button path[data-v-5f4cb0b8],.dark-mode .mobile-action-button polyline[data-v-5f4cb0b8],.dark-mode .mobile-action-button rect[data-v-5f4cb0b8]{color:inherit}.dark-mode .mobile-action-button .label[data-v-5f4cb0b8]{color:#bec6cf}",""])},xcnA:function(t,e,n){"use strict";var i=n("WHe5"),o=n("6Z3Y"),a=n("xCqy"),r={name:"MobileContextMenu",components:{MenuMobileGroup:i.a,MenuMobile:o.a},methods:{closeMenu:function(){a.a.$emit("mobile-menu:hide")}}},l=n("KHd+"),s=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("MenuMobile",{attrs:{name:"create-list"},nativeOn:{"!click":function(e){return t.closeMenu(e)}}},[n("MenuMobileGroup",[t._t("default")],2)],1)}),[],!1,null,null,null);e.a=s.exports}}]);